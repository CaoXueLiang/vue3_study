<body></body>
<script type="module">
  import { reactive, effect } from "./reactive.js";

  const obj = { foo: 1 };
  const child = reactive(obj);
  const parent = reactive({ bar: 2 });
  Object.setPrototypeOf(child, parent);

  // console.log("-----", Object.getPrototypeOf(obj) === parent);

  effect(() => {
    console.log("------effect------", child.bar);
  });

  child.bar = 3;
  //   parent.bar = 4;
  //   obj.bar = 3;

  /**
   * 可以观察到 副作用函数执行了两次
   * 正常来说应该只触发一次
   */
</script>
