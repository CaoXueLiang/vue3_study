<body></body>

<script type="module">
  import { reactive, effect } from "./reactive.js";

  /**
   * Map的代理对象上没有 `set`和`get`这两个方法。需要自定义
   */

  // 1. 测试 Map 代理对象上的 size, get, set方法。
  const tmpMap = new Map([
    ["firstName", "li ning"],
    ["lastName", "xiao ming"],
    [2, "哈哈哈"],
  ]);
  const proxyMap = reactive(tmpMap);

  effect(() => {
    console.log("effect run ", proxyMap.size);
  });

  console.log(proxyMap.size);
  console.log(proxyMap.get(2));
  console.log(proxyMap.get("firstName"));
  proxyMap.set("age", 30);
  console.log(proxyMap);
  proxyMap.delete("age");
</script>
